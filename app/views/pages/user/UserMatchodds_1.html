
<div class="col-sm-8 col-md-8 col-xs-12 padding">
    <div class="load-box" ng-show="loading">
        <img id="mySpinner" src="app/images/loading1.gif" />
    </div>

    <div class="row match-heading" ng-if="displayScore==false">
        <div class="col-md-8 col-xs-12"> <h4>{{matchName}}</h4></div>
        <div class="col-md-4 col-xs-12"><p>{{dateForm|date:'EEEE dd MMM, hh:mm a'}}</p></div>
       
     </div>
    <div>
       <!--  {{GetMarketBackLayData.runners}} -->
        <div class="box-heading" ng-if="displayScore==true">
            <!-- for Cricket -->
                <div class="row" ng-if="Documents.eventTypeId==4">
                     <div class="col-sm-12 tb" ng-if="Documents.currentSet==1">
                         <table class="table table matchOdsPlayList" style="margin-bottom:0px!important;">
                            <!-- {{Documents.currentSet}} -->
                             <tr>
                                <td class="text-left">{{Documents.score.home.name}}</td>
                                 
                                    
                                 <td class="text-center hidden-xs" style="color:#fff;">VS</td>

                                  <td class="text-right">{{Documents.score.away.name}}</td>
                                
                                 
                             </tr>
                             <tr>
                                 <td class="text-left">{{Documents.score.home.inning1.runs}} /{{Documents.score.home.inning1.wickets}} ({{Documents.score.home.inning1.overs}})</td>
                                 <td class="hidden-xs"></td>
                                 <td class="text-right">{{Documents.score.away.inning1.runs}} /{{Documents.score.away.inning1.wickets}} ({{Documents.score.away.inning1.overs}})</td>
                             </tr>
                            
                         </table>
                     </div>
                     <div class="col-sm-12 tb" ng-if="Documents.currentSet==2">
                         <table class="table table matchOdsPlayList" style="margin-bottom:0px!important;">
                           
                             <tr>
                                <td class="text-left">{{Documents.score.home.name}}</td>
                                 <td class="text-center hidden-xs" style="color:#fff;">VS</td>
                                  <td class="text-right">{{Documents.score.away.name}}</td>
                            </tr>
                            <tr>

                                <td class="text-left">{{Documents.score.home.inning2.runs}} /{{Documents.score.home.inning2.wickets}} ({{Documents.score.home.inning2.overs}})</td>
                                 <td class="hidden-xs"></td>
                                <td class="text-right">{{Documents.score.away.inning2.runs}} /{{Documents.score.away.inning2.wickets}} ({{Documents.score.away.inning2.overs}})</td>
                                 
                             </tr>
                            
                         </table>
                     </div>
                </div>
            <!-- End of Cricket Api -->
            <!-- for Tenis -->
                <div class="row" ng-if="Documents.eventTypeId==2">

                     <div class="col-sm-6 text-center">
                         <span style="color:#25dc25;">Set {{Documents.currentSet}} -  Game {{Documents.currentGame}} -   Point {{Documents.currentPoint}}</span>

                          <h6 style="color:gold;font-size:13px;margin-top:5px;"> {{dateForm|date:'EEEE dd MMM, hh:mm a'}}</h6>
                     </div>
                     <div class="col-sm-6 tb">
                         <table class="table" style="margin-bottom:0px!important;">
                           
                             <tr>
                                <td>{{Documents.score.home.name}}&emsp;&emsp;
                                    <i class="fa fa-circle" ng-if="Documents.score.home.isServing" style="color:#09c309!important;font-size:10px;"></i>
                                </td>
                                <td ng-repeat="x in Home track by $index">{{x}}</td> 
                                <td><div>{{Documents.score.home.games}}</div></td>
                                <td>{{Documents.score.home.doubleFaults}}</td>
                                <td>{{Documents.score.home.score}}</td>
                             </tr>
                             <tr>
                                <td>{{Documents.score.away.name}}&emsp;&emsp;<i class="fa fa-circle" ng-if="Documents.score.away.isServing" style="color:#09c309!important;font-size:10px;"></i></td>
                                <td ng-repeat="x in away track by $index">{{x}}</td> 
                                <td><div>{{Documents.score.away.games}}</div></td>
                                <td>{{Documents.score.away.doubleFaults}}</td>
                                <td>{{Documents.score.away.score}}</td>
                               
                             </tr>
                         </table>
                     </div>
                    
                </div>
            <!-- End of Tenis Api -->
            <!-- for Football -->
                <div class="row" ng-if="Documents.eventTypeId==1">
                     <div class="col-sm-6 text-center">
                         <span style="color:#25dc25;"> {{Documents.timeElapsed}} </span>

                          <h6 style="color:gold;font-size:13px;margin-top:5px;"> {{dateForm|date:'EEEE dd MMM, hh:mm a'}}</h6>
                     </div>
                     <div class="col-sm-6 tb">
                         <table class="table" style="margin-bottom:0px!important;">
                           
                             <tr>
                                <td>{{Documents.score.home.name}}&emsp;&emsp;
                                    <i class="fa fa-circle" ng-if="Documents.score.home.isServing" style="color:#09c309!important;font-size:10px;"></i>
                                </td>
                                <td ng-repeat="x in Home track by $index">{{x}}</td> 
                                <td><div>{{Documents.score.home.games}}</div></td>
                                <td>{{Documents.score.home.doubleFaults}}</td>
                                <td>{{Documents.score.home.score}}</td>
                             </tr>
                             <tr>
                                <td>{{Documents.score.away.name}}&emsp;&emsp;<i class="fa fa-circle" ng-if="Documents.score.away.isServing" style="color:#09c309!important;font-size:10px;"></i></td>
                                <td ng-repeat="x in away track by $index">{{x}}</td> 
                                <td><div>{{Documents.score.away.games}}</div></td>
                                <td>{{Documents.score.away.doubleFaults}}</td>
                                <td>{{Documents.score.away.score}}</td>
                               
                             </tr>
                         </table>
                     </div>
                    
                </div>
            <!-- End of Football Api -->
        </div>
        <div>
        <div class="matchodd-header">
            <div class="row">
                <div class="col-sm-8">
                    <div class="matchhead">{{GetMarketInfo.MarketName}} -</div>
                     <div class="matchinfo hidden-xs"><!-- {{PLAYPAUSE}}_ -->Matched : <b>GLC {{GetMarketBackLayData.totalMatched|number:0}}</b></div>
                </div>
                <div class="col-sm-4 text-right">
                    <span class="goin-play"><span class="glyphicon glyphicon-ok"></span>{{GetMarketBackLayData.status=='OPEN'?GetMarketBackLayData.inplay?"In-Play":"Going In-Play":GetMarketBackLayData.status}}</span>
                    <button class="btn btn-warning btn-sm hidden-xs" ng-click="callOddsFunc()">Refresh</button>
                </div>
            </div>
        </div>

            <div class="market-wrapper">
                <div class="matchodd_dis" ng-if="PLAYPAUSE==1"></div>
                <div class="table-overflow">
                    <table class="table market-listing-table" ng-show="GetMarketBackLayData.status=='OPEN'">
                        <thead>
                                <tr>
                                <th class="title"><i class="fa fa-star-o"></i> Match Odds</th>
                                <th class="back hidden-xs" colspan="2"></th>
                                <th class="back">Back</th>
                                <th class="lay">Lay</th>
                                <th class="lay hidden-xs" colspan="2"></th>
                             </tr>
                        </thead>
                        <tbody>
                             <tr ng-repeat="marketInfo in GetMarketBackLayData.runners">
                                 <td class="running-cell">
                                     <strong class="odds">{{(GetMarketBackLayDataSelectionName|filter:{"selectionId":marketInfo.selectionId})[0].runnerName}}</strong>
                                    <div class="runningCellInner">
                                    <span style='{{getValColor(getSumValPnL((RunnerValue|filter: {"SelectionId":marketInfo.selectionId})[0].winValue,(RunnerValue|filter:{"SelectionId":marketInfo.selectionId})[0].lossValue))}}'>

                                    {{getSumValPnL((RunnerValue|filter: {"SelectionId":marketInfo.selectionId})[0].winValue,(RunnerValue|filter:{"SelectionId":marketInfo.selectionId})[0].lossValue) | number}} 

                                    </span>
                                    <!-- <input type="text" id="NewLiability_{{$index}}" name="NewLiability_" value="{{testValue1}}"> -->
                                   <!--  {{displayTable1}} -->
                                     
                                     <span ng-if="displayTable1" style='{{getValColor((getSumValPnL((RunnerValue|filter: {"SelectionId":marketInfo.selectionId})[0].winValue,(RunnerValue|filter:{"SelectionId":marketInfo.selectionId})[0].lossValue)+(marketInfo.selectionId==selectionId?(formStatus==0?+((priceVal*stake)-stake):-(priceVal*stake)+stake):(formStatus==0?-stake:+stake))))}}'>
                                        <span> <span class="glyphicon glyphicon-arrow-right"></span> {{(getSumValPnL((RunnerValue|filter:{"SelectionId":marketInfo.selectionId})[0].winValue,(RunnerValue|filter:{"SelectionId":marketInfo.selectionId})[0].lossValue)+(marketInfo.selectionId==selectionId?(formStatus==0?+((priceVal*stake)-stake):-(priceVal*stake)+stake):(formStatus==0?-stake:+stake)))|number:2}}</span>
                                     </span> 
                                     </div>
                                </td> 
                                <td class="back unhighlighted hidden-xs" ng-class="{'callYlCss':marketInfo.ex.availableToBack[2].SELECTED}">
                                     <strong class="odds">{{getOddCalcVal(marketInfo.ex.availableToBack[2].price,1)}}</strong>
                                     <div class="size">
                                        <!-- {{marketInfo.ex.availableToBack[2].SELECTED}} -->
                                        <span>{{marketInfo.ex.availableToBack[2].size}}</span>
                                    </div>
                                 </td> 
                                <td class="back unhighlighted hidden-xs" ng-class="{'callYlCss':marketInfo.ex.availableToBack[1].SELECTED}"> 
                                     <strong class="odds">{{getOddCalcVal(marketInfo.ex.availableToBack[1].price,1)}}</strong> 
                                    <div class="size">
                                       <!--  {{marketInfo.ex.availableToBack[1].SELECTED}} -->
                                        <span>{{marketInfo.ex.availableToBack[1].size}}</span>
                                        </div>
                                 </td>
                                 <td class="back" ng-class="{'callYlCss':marketInfo.ex.availableToBack[0].SELECTED}" ng-click="getOddValue($event,marketInfo.ex.availableToBack[0].price+oddsLimit,marketInfo.MstCode,0,GetMarketBackLayDataSelectionName[$index].runnerName,marketInfo.selectionId)">
                                      <strong class="odds">{{getOddCalcVal(marketInfo.ex.availableToBack[0].price,1)}}</strong>
                                     <div class="size">
                                       <!--  {{marketInfo.ex.availableToBack[0].SELECTED}} -->
                                        <span>{{marketInfo.ex.availableToBack[0].size}}</span>
                                        </div>
                                </td>
                                <td class="lay" ng-class="{'callCYanCss':marketInfo.ex.availableToLay[0].SELECTED}" ng-click="getOddValue($event,marketInfo.ex.availableToLay[0].price+oddsLimit,marketInfo.MstCode,1,GetMarketBackLayDataSelectionName[$index].runnerName,marketInfo.selectionId)">
                                    <strong class="odds" ng-model="testModel">{{getOddCalcVal(marketInfo.ex.availableToLay[0].price,1)}}</strong>
                                    <div class="size">
                                        <span>{{marketInfo.ex.availableToLay[0].size}}</span>
                                    </div>
                                 </td> 
                                <td class="lay unhighlighted hidden-xs" ng-class="{'callCYanCss':marketInfo.ex.availableToLay[1].SELECTED}" >
                                    <strong class="odds" ng-model="testModel">{{getOddCalcVal(marketInfo.ex.availableToLay[1].price,1)}}</strong>
                                    <div class="size">
                                        <span>{{marketInfo.ex.availableToLay[1].size}}</span>
                                     </div>
                                </td>
                                <td class="lay unhighlighted hidden-xs" ng-class="{'callCYanCss':marketInfo.ex.availableToLay[2].SELECTED}" >

                                    <strong class="odds" ng-model="testModel">{{getOddCalcVal(marketInfo.ex.availableToLay[2].price,1)}}</strong>
                                    <div class="size">
                                        <span>{{marketInfo.ex.availableToLay[2].size}}</span>
                                    </div>
                                </td>

                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="betOverlay" ng-if="PLAYPAUSE==1">
                
            </div>
        </div>

    </div>

    <div class="big-odd-stat" ng-show="GetMarketBackLayData.status!='OPEN'">

        <span>{{GetMarketBackLayData.status}}</span>

    </div>

    <div class="betsl-mob-box">

        <div class="box-heading" ng-click="accBet(1)">Betslip
            <span class="rigt-ref">
                <i class="glyphicon " ng-class="{true:'glyphicon-minus',false:'glyphicon-plus'}[acc]"></i>
            </span>
        </div>
        <div class="box-cont clearfix" ng-init="acc1=true;acc=false;">
            <div class="act-mess" ng-show="(UserTypeId==3 || slctUseTypeID ==3 ) && acc==1">
                <div ng-repeat="marketInfo in GetMarketBackLayData.runners">
                    <div ng-if="(formStatus == 0 && marketInfo.selectionId==selectionId)">
                        <input type="hidden" name="BackMatchVal" id="Hidden1" ng-model="chkValPrice" ng-value="marketInfo.ex.availableToBack[0].price+oddsLimit">
                    </div>
                    <div ng-if="(formStatus == 1 && marketInfo.selectionId==selectionId)">
                        <input type="hidden" name="LayMatchVal" id="Hidden2" ng-model="chkValPrice" ng-value="marketInfo.ex.availableToLay[0].price+oddsLimit">
                    </div>
                </div>
                  <form name="betUserSubmit" method="post">
                    <div class="row" ng-show="displayTable" style="border: 1px solid #ece7e7;">
                        <div class="col-sm-12 back-head betsliphead" ng-if="formStatus==0">
                            <a href="" ng-click="reset_all_selection()" style="color:#f6130b;font-size:13px;"><span class="glyphicon glyphicon-remove-sign"></span></a>&emsp;
                                    <span>{{GetMarketInfo.MarketName}}:</span><span style="float:right;">{{placeName}}</span>
                        </div>
                        <div class="col-sm-12 lay-head betsliphead" ng-if="formStatus==1">
                            <a href="" ng-click="reset_all_selection()" style="color:#f6130b;font-size:13px;"><span class="glyphicon glyphicon-remove-sign"></span></a>&emsp;
                                    <span>{{GetMarketInfo.MarketName}}:</span><span style="float:right;">{{placeName}}</span>
                        </div>
                        <div class="col-sm-12">
                            <div class="row padding">
                                <div class="col-sm-3 col-xs-3 padding">
                                    <label>odds</label>
                                    <input type="number" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" min="1" step="0.01" ng-model="priceVal" class=" form-control" />
                                </div>
                                <div class="col-sm-5 col-xs-5 padding" ng-init="stake=0">
                                    <label>stake</label>
                                    <input type="number" min="1" max="500000" ng-model="stake" class=" form-control" />
                                    <input type="hidden" name="userId" id="userId" value="{{UserId}}">
                                    <input type="hidden" name="ParantId" id="ParantId" value="{{ParantId}}">
                                    <input type="hidden" name="loginId" id="loginId" value="{{loginId}}">
                                    <input type="hidden" name="selectionId" id="selectionId" value="{{selectionId}}">
                                    <input type="hidden" name="matchId" id="matchId" value="{{MatchId}}">
                                    <input type="hidden" name="isback" id="isback" ng-value="formStatus">

                                    <input type="hidden" name="MarketId" id="MarketId" value="{{MarketId}}">

                                    <input type="hidden" name="placeName" id="placeName" value="{{placeName}}">
                                </div>
                                <div class="col-sm-4 col-xs-4 padding">
                                <label ng-if="formStatus==0?statusLabel='Profit':statusLabel='Liability'">{{statusLabel}}</label>
                                <p>{{(priceVal*stake)-stake | number:2}}</p>
                                </div>
                            </div>
                        </div>
                        <span class = "glyphicon glyphicon-alert alert-info alert-message displayErrorMsg" id = "displayErrorMsg">Minimum Stake is 100 points</span>
                        <div class="col-sm-12 padding">
                            <div ng-if="$root.MyLenth==0">
                        <button type="button" ng-click="stakeVal(1000,selectionId)" class="btn num-btns">1000</button>
                        <button type="button" ng-click="stakeVal(3000,selectionId)" class="btn num-btns">3000</button>
                        <button type="button" ng-click="stakeVal(5000,selectionId)" class="btn num-btns">5000</button>
                        <button type="button" ng-click="stakeVal(10000,selectionId)" class="btn num-btns">10000</button>
                        <button type="button" ng-click="stakeVal(25000,selectionId)" class="btn num-btns">25000</button>
                        <button type="button" ng-click="stakeVal(50000,selectionId)" class="btn num-btns">50000</button>
                        <button type="button" ng-click="stakeVal(100000,selectionId)" class="btn num-btns">100000</button>
						<button type="button" ng-click="stakeVal(200000,selectionId)" class="btn num-btns">200000</button>
						<button type="button" ng-click="stakeVal(300000,selectionId)" class="btn num-btns">300000</button>
                        <button type="button" ng-click="stakeValReset(0)" class="btn clr-btn">Clear</button>
                        <button type="button" class="btn cancel-sel" ng-click="reset_all_selection()">Cancel</button>
                        <button type="submit" ng-disabled="(!betUserSubmit.$valid) || btnPlaceDis" class="btn place-bet" ng-click="place_bet()">Place bets</button>
                     </div>

                             <div ng-if="$root.MyLenth==1">
                                <button type="button" ng-click="stakeVal(Value1,selectionId)" class="btn num-btns">{{name1}}</button>
                                <button type="button" ng-click="stakeVal(Value2,selectionId)" class="btn num-btns">{{name2}}</button>
                                <button type="button" ng-click="stakeVal(Value3,selectionId)" class="btn num-btns">{{name3}}</button>
                                <button type="button" ng-click="stakeVal(Value4,selectionId)" class="btn num-btns">{{name4}}</button>
                                <button type="button" ng-click="stakeVal(Value5,selectionId)" class="btn num-btns">{{name5}}</button>
                                <button type="button" ng-click="stakeVal(Value6,selectionId)" class="btn num-btns">{{name6}}</button>
                                <button type="button" ng-click="stakeVal(Value6,selectionId)" class="btn num-btns">{{name6}}</button>
                                <button type="button" ng-click="stakeValReset(0)" class="btn clr-btn">Clear</button>
                                <button type="button" class="btn cancel-sel" ng-click="reset_all_selection()">Cancel</button>
                                <button type="submit" ng-disabled="(!betUserSubmit.$valid) || btnPlaceDis" class="btn place-bet" ng-click="place_bet()">Place bets</button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>

        </div>
        <div class="betOverlay" ng-if="loadingM">
            <img src="app/images/loader.gif">
        </div>
    </div>

    <div>
<!-- app/timeline/matchodds_betslip -->
</div>

<!-- start code for Fancy -->
    
   
    <div class="fancyMarketTable" ng-if="SPORTID==4">
                     <div class="session_run">
                        <table class="table fancy-table apl-table">
                           <thead>
                              <tr>
                                 <th class="market-name">Session Runs <button ng-click="countdown();">Refresh SessionFancy</button></th>
                                 <th class="lay">No</th>
                                 <th class="back">Yes</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr ng-repeat="Fancy in FancyArray.items">
                                 <td class="market-name">
                                    <div class="event-name">{{Fancy.name}}</div>
                                    <div class="selection-pnl">
                                    </div>
                                 </td>
                                 <td class="main-container" colspan="6" ng-class="{'SUSPENDED':'suspend-box','Ball Running':'ball-msg-box1'}[Fancy.statusLabel]">
                                    <div ng-if="Fancy.statusLabel=='Ball Running'" class="ball-msg-box1">
                                       <h1>{{Fancy.statusLabel}}</h1>
                                    </div>
                                    <div ng-if="Fancy.statusLabel=='SUSPENDED'" class="suspend-box">
                                       <h1>{{Fancy.statusLabel}}</h1>
                                    </div>
                                    <div>
                                       <div class="odds-container">
                                          <table class="fancy-table apl-table">
                                             <tbody>
                                                <tr>
                                                   <td class="lay show-size" ng-click="fancyBetSlip($event,Fancy.layLine,Fancy.layPrice,Fancy,1,1)">
                                                      <strong class="odds">{{Fancy.layLine}} </strong>
                                                      <div class="size">
                                                         <span> {{Fancy.layPrice}} </span>
                                                      </div>
                                                   </td>
                                                   <td class="back show-size" ng-click="fancyBetSlip($event,Fancy.backLine,Fancy.backPrice,Fancy,1,0)">
                                                      <strong class="odds">{{Fancy.backLine}}</strong>
                                                      <div class="size">
                                                         <span> {{Fancy.backPrice}} </span>
                                                      </div>
                                                   </td>
                                                   <!-- <td colspan="2" class="odds-placeholder hidden-xs">
                                                      <span class="max-liability">
                                                      Max Bet:{{Fancy.maxLiabilityPerBet}}
                                                      </span>
                                                      <span class="max-liability">
                                                      Max Mkt:{{Fancy.maxLiabilityPerMarket}}
                                                      </span>
                                                   </td> -->
                                                </tr>
                                             </tbody>
                                          </table>
                                       </div>
                                    </div>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- {{FancyArray}} -->
                  </div>
<!-- end the code of Fancy -->
<!-- start Fancy Betslip -->
<div class="visible-xs">
    <div class="" ng-if="betslipArray.isFancy==1">
        <div class="box-cont clearfix">
            <div class="act-mess" ng-if="betslipArray.betslip">
                <form name="betUserSubmit" method="post">
                    <div class="row">
                        <div class="col-sm-12 betsliphead" ng-class="{1:'lay-head', 0:'back-head'}[betslipArray.isBack]">
                            <a href="" ng-click="betslipArray.isFancy=0;betslipArray={}" style="color:#f6130b;font-size:13px;"><span class="glyphicon glyphicon-remove-sign"></span></a>&emsp;
                                <span style="float:right;">{{betslipArray.name}}</span>
                        </div>
                        <div class="col-sm-12">
                            <div class="row padding">
                                <div class="col-sm-3 col-xs-3 padding">
                                    <label>odds</label>
                                    <input type="number" step="0.01" min="1" ng-model="betslipArray.line" name="" readonly="readonly" class=" form-control" />
                                </div>
                                <div class="col-sm-5 col-xs-5 padding" ng-init="stake=0">
                                    <label>stake</label>
                                    <input type="number" ng-model='betslipArray.stack' name="" ng-click="FancyVal(100,betslipArray.stack,0)" step="1" min="1" class=" form-control" />
                                </div>
                                <div class="col-sm-4 col-xs-4 padding">
                                    <label>Liability</label>
                                    <p>{{betslipArray.stack | number:2}}</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-12 padding" name="stakes_0">                                  
                        <button type="button" ng-click="FancyVal(1000,betslipArray.stack,1)" class="btn num-btns">1000</button>
                        <button type="button" ng-click="FancyVal(3000,betslipArray.stack,1)" class="btn num-btns">3000</button>
                        <button type="button" ng-click="FancyVal(5000,betslipArray.stack,1)" class="btn num-btns">5000</button>
                        <button type="button" ng-click="FancyVal(10000,betslipArray.stack,1)" class="btn num-btns">10000</button>
                        <button type="button" ng-click="FancyVal(25000,betslipArray.stack,1)" class="btn num-btns">25000</button>
                        <button type="button" ng-click="FancyVal(50000,betslipArray.stack,1)" class="btn num-btns">50000</button>
						<button type="button" ng-click="FancyVal(100000,betslipArray.stack,1)" class="btn num-btns">100000</button>
						<button type="button" ng-click="FancyVal(200000,betslipArray.stack,1)" class="btn num-btns">200000</button>
						<button type="button" ng-click="FancyVal(300000,betslipArray.stack,1)" class="btn num-btns">300000</button>
                        <button type="button" ng-click="betslipArray.stack=0" class="btn clr-btn">Clear</button>
                        <button type="submit" ng-disabled="(!betUserSubmit.$valid) || btnPlaceDis" class="btn place-bet" ng-click="placeFancyBet();">Place bets</button>
                     </div>
                    </div>
                </form>
                <div class="betOverlay" ng-if="fancybetloader">
                    <img src="app/images/loader.gif">
                </div>
            </div>
        </div>
    </div>
</div>
<!-- End the code of Fancy betslip -->
</div>


<div class="col-sm-4 col-md-4 col-xs-12 padding">
   <!--  <div class="betsl-desk-box">
        <div class="box-cont clearfix" ng-init="acc1=true;acc=false;">
            <div class="head-bord box-heading" ng-click="accBet(1)">
                Place Bets <span class="rigt-ref">
                    <i class="glyphicon " ng-class="{true:'glyphicon-minus',false:'glyphicon-plus'}[acc]"></i>
                </span>
            </div>
            <div class="act-mess" ng-show="(UserTypeId==3 || slctUseTypeID ==3 ) && acc==1">
                <div ng-repeat="marketInfo in GetMarketBackLayData.runners">
                    <div ng-if="(formStatus == 0 && marketInfo.selectionId==selectionId)">
                        <input type="hidden" name="BackMatchVal" id="chkValPrice" ng-model="chkValPrice" ng-value="marketInfo.ex.availableToBack[0].price+oddsLimit">
                    </div>
                    <div ng-if="(formStatus == 1 && marketInfo.selectionId==selectionId)">
                        <input type="hidden" name="LayMatchVal" id="chkValPrice" ng-model="chkValPrice" ng-value="marketInfo.ex.availableToLay[0].price+oddsLimit">

                    </div>
                </div>

                <form name="betUserSubmit" method="post">

                    <table class="table bets-table" ng-show="displayTable">

                        <thead ng-if="formStatus==0" class="back-head">

                            <tr>

                                <th></th>

                                <th>Yes</th>

                                <th>Odds</th>

                                <th>Stake</th>

                                <th>Profit</th>

                            </tr>

                        </thead>

                        <thead ng-if="formStatus==1" class="lay-head">

                            <tr>

                                <th></th>

                                <th>No</th>

                                <th>Backer's odds</th>

                                <th>Backer's Stake</th>

                                <th>Liability</th>

                            </tr>

                        </thead>



                        <tbody>

                            <tr>

                                <td class="bet-head"><a href="" ng-click="reset_all_selection()"><span class="glyphicon glyphicon-remove-sign"></span></a></td>

                                <td class="bet-name">                                    

                                    <div class="bet-name">

                                        <span>{{placeName}}</span>

                                    </div>

                                </td>

                                <td>

                                    <input type="number" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" min="1" step="0.01" ng-model="priceVal" class="odds-input" />

                                </td>

                                <td ng-init="stake=0">



                                    <input type="number" min="1" max="500000" ng-model="stake" class="stake-input" />

                                    <input type="hidden" name="userId" id="userId" value="{{UserId}}">

                                    <input type="hidden" name="ParantId" id="ParantId" value="{{ParantId}}">

                                    <input type="hidden" name="loginId" id="loginId" value="{{loginId}}">

                                    <input type="hidden" name="selectionId" id="selectionId" value="{{selectionId}}">

                                    <input type="hidden" name="matchId" id="matchId" value="{{MatchId}}">

                                    <input type="hidden" name="isback" id="isback" ng-value="formStatus">

                                    <input type="hidden" name="MarketId" id="MarketId" value="{{MarketId}}">

                                    <input type="hidden" name="placeName" id="placeName" value="{{placeName}}">

                                </td>

                                <td>{{(priceVal*stake)-stake | number:2}}</td>

                            </tr>

                            <tr>

                                <td colspan="5">

                                    <div ng-if="$root.MyLenth==0">
                                        <button type="button" ng-click="stakeVal(10,selectionId)" class="btn num-btns">10</button>
                                        <button type="button" ng-click="stakeVal(20,selectionId)" class="btn num-btns">20</button>

                                        <button type="button" ng-click="stakeVal(50,selectionId)" class="btn num-btns">50</button>

                                        <button type="button" ng-click="stakeVal(100,selectionId)" class="btn num-btns">100</button>

                                        <button type="button" ng-click="stakeVal(200,selectionId)" class="btn num-btns">200</button>

                                        <button type="button" ng-click="stakeVal(500,selectionId)" class="btn num-btns">500</button>

                                        <button type="button" ng-click="stakeVal(1000,selectionId)" class="btn num-btns">1000</button>

                                        <button type="button" ng-click="stakeValReset(0)" class="btn clr-btn">Clear</button>
                                         <button type="button" class="btn cancel-sel" ng-click="reset_all_selection()">Cancel</button>

                                    <button type="submit" ng-disabled="(!betUserSubmit.$valid) || btnPlaceDis" class="btn place-bet" ng-click="place_bet()">Place bets</button>
                                    </div>

                                    <div ng-if="$root.MyLenth==1">

                                        <button type="button" ng-click="stakeVal(Value1,selectionId)" class="btn num-btns">{{name1}}</button>

                                        <button type="button" ng-click="stakeVal(Value2,selectionId)" class="btn num-btns">{{name2}}</button>

                                        <button type="button" ng-click="stakeVal(Value3,selectionId)" class="btn num-btns">{{name3}}</button>

                                        <button type="button" ng-click="stakeVal(Value4,selectionId)" class="btn num-btns">{{name4}}</button>

                                        <button type="button" ng-click="stakeVal(Value5,selectionId)" class="btn num-btns">{{name5}}</button>

                                        <button type="button" ng-click="stakeVal(Value6,selectionId)" class="btn num-btns">{{name6}}</button>

                                        <button type="button" ng-click="stakeValReset(0)" class="btn clr-btn">Clear</button>
                                         <button type="button" class="btn cancel-sel" ng-click="reset_all_selection()">Cancel</button>

                                    <button type="submit" ng-disabled="(!betUserSubmit.$valid) || btnPlaceDis" class="btn place-bet" ng-click="place_bet()">Place bets</button>

                                    </div>

                                </td>

                            </tr>

                        </tbody>

                    </table>

                </form>

            </div>
            <div class="betOverlay" ng-if="loadingM">
                <img src="app/images/loader.gif">
            </div>
        </div>
    </div> -->
    <div class="betsl-desk-box">
        <div class="box-cont clearfix" ng-init="acc1=true;acc=false;">
            <div class="head-bord box-heading" ng-click="accBet(1)">
                Place Bets <span class="rigt-ref">
                    <i class="glyphicon " ng-class="{true:'glyphicon-minus',false:'glyphicon-plus'}[acc]"></i>
                </span>
            </div>
            <div class="act-mess" ng-show="(UserTypeId==3 || slctUseTypeID ==3 ) && acc==1">

                <div ng-repeat="marketInfo in GetMarketBackLayData.runners">

                    <div ng-if="(formStatus == 0 && marketInfo.selectionId==selectionId)">

                        <!--  {{marketInfo.ex.availableToBack[2].price}} -->

                        <input type="hidden" name="BackMatchVal" id="chkValPrice" ng-model="chkValPrice" ng-value="marketInfo.ex.availableToBack[0].price+oddsLimit">

                    </div>

                    <div ng-if="(formStatus == 1 && marketInfo.selectionId==selectionId)">

                        <!--  {{marketInfo.ex.availableToLay[0].price}} -->

                        <input type="hidden" name="LayMatchVal" id="chkValPrice" ng-model="chkValPrice" ng-value="marketInfo.ex.availableToLay[0].price+oddsLimit">

                    </div>
                </div>

                <form name="betUserSubmit" method="post">
                    <div class="row" ng-show="displayTable" style="border: 1px solid #ece7e7;">
                        <div class="col-sm-12 back-head betsliphead" ng-if="formStatus==0">
                            <a href="" ng-click="reset_all_selection()" style="color:#f6130b;font-size:13px;"><span class="glyphicon glyphicon-remove-sign"></span></a>&emsp;
                                    <span>{{GetMarketInfo.MarketName}}:</span><span style="float:right;">{{placeName}}</span>
                        </div>
                        <div class="col-sm-12 lay-head betsliphead" ng-if="formStatus==1">
                            <a href="" ng-click="reset_all_selection()" style="color:#f6130b;font-size:13px;"><span class="glyphicon glyphicon-remove-sign"></span></a>&emsp;
                                    <span>{{GetMarketInfo.MarketName}}:</span><span style="float:right;">{{placeName}}</span>
                        </div>
                        <div class="col-sm-12">
                            <div class="row padding">
                                <div class="col-sm-3 padding">
                                    <label>odds</label>
                                    <input type="number" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" min="1" step="0.01" ng-model="priceVal" class=" form-control" />
                                </div>
                                <div class="col-sm-5 padding" ng-init="stake=0">
                                    <label>stake</label>
                                    <input type="number" min="1" max="500000" ng-model="stake" class=" form-control" />
                                    <input type="hidden" name="userId" id="userId" value="{{UserId}}">
                                    <input type="hidden" name="ParantId" id="ParantId" value="{{ParantId}}">
                                    <input type="hidden" name="loginId" id="loginId" value="{{loginId}}">
                                    <input type="hidden" name="selectionId" id="selectionId" value="{{selectionId}}">
                                    <input type="hidden" name="matchId" id="matchId" value="{{MatchId}}">
                                    <input type="hidden" name="isback" id="isback" ng-value="formStatus">
                                    <input type="hidden" name="MarketId" id="MarketId" value="{{MarketId}}">
                                    <input type="hidden" name="placeName" id="placeName" value="{{placeName}}">
                                </div>
                                <div class="col-sm-4 padding">
                                <label ng-if="formStatus==0?statusLabel='Profit':statusLabel='Liability'">{{statusLabel}}</label>
                                <p>{{(priceVal*stake)-stake | number:2}}</p>
                                </div>
                            </div>
                            <span class = "glyphicon glyphicon-alert alert-info alert-message displayErrorMsg" id = "displayErrorMsg">
                                Minimum Stake is 100 points</span>
                        </div>
                        <div class="col-sm-12 padding">
                            <div ng-if="$root.MyLenth==0">                                     
                        <button type="button" ng-click="stakeVal(1000,selectionId)" class="btn num-btns">1000</button>
                        <button type="button" ng-click="stakeVal(3000,selectionId)" class="btn num-btns">3000</button>
                        <button type="button" ng-click="stakeVal(5000,selectionId)" class="btn num-btns">5000</button>
                        <button type="button" ng-click="stakeVal(10000,selectionId)" class="btn num-btns">10000</button>
                        <button type="button" ng-click="stakeVal(25000,selectionId)" class="btn num-btns">25000</button>
                        <button type="button" ng-click="stakeVal(50000,selectionId)" class="btn num-btns">50000</button>
						 <button type="button" ng-click="stakeVal(100000,selectionId)" class="btn num-btns">100000</button>
						 <button type="button" ng-click="stakeVal(200000,selectionId)" class="btn num-btns">200000</button>
						 <button type="button" ng-click="stakeVal(300000,selectionId)" class="btn num-btns">300000</button>
                        <button type="button" ng-click="stakeValReset(0)" class="btn clr-btn">Clear</button>
                        <button type="button" class="btn cancel-sel" ng-click="reset_all_selection()">Cancel</button>
                        <button type="submit" ng-disabled="(!betUserSubmit.$valid) || btnPlaceDis" class="btn place-bet" ng-click="place_bet()">Place bets</button>
                     </div>

                             <div ng-if="$root.MyLenth==1">
                                <button type="button" ng-click="stakeVal(Value1,selectionId)" class="btn num-btns">{{name1}}</button>
                                <button type="button" ng-click="stakeVal(Value2,selectionId)" class="btn num-btns">{{name2}}</button>
                                <button type="button" ng-click="stakeVal(Value3,selectionId)" class="btn num-btns">{{name3}}</button>
                                <button type="button" ng-click="stakeVal(Value4,selectionId)" class="btn num-btns">{{name4}}</button>
                                <button type="button" ng-click="stakeVal(Value5,selectionId)" class="btn num1-btns">{{name5}}</button>
                                <button type="button" ng-click="stakeVal(Value6,selectionId)" class="btn num-btns">{{name6}}</button>
                                <button type="button" ng-click="stakeVal(Value6,selectionId)" class="btn num-btns">{{name6}}</button>
                                <button type="button" ng-click="stakeValReset(0)" class="btn clr-btn">Clear</button>
                                <button type="button" class="btn cancel-sel" ng-click="reset_all_selection()">Cancel</button>
                                <button type="submit" ng-disabled="(!betUserSubmit.$valid) || btnPlaceDis" class="btn place-bet" ng-click="place_bet()">Place bets</button>
                            </div>
                        </div>
                    </div>
                </form>

            </div>
            <div class="betOverlay" ng-if="loadingM">
                <img src="app/images/loader.gif">
            </div>
        </div>
    </div>

    <div>
            

            <div class="fancy-collapse-panel">
                <div class="panel panel-default match">
                    <div class="panel-heading" role="tab" id="headingOne">
                        <h3 class="panel-title">Matched Bets ({{(UserData | filter : {"IsMatched":"1"}).length}})</h3>
                    </div>
                    <div class="panel-body unmatchedScrollTable" ng-if='(UserData | filter : {"IsMatched":"1"}).length>0'>
                        <table class="table betslip-table" ng-init="BackLay=''">
                            <thead>
                               <tr>
                                   <th >Runner</th>
                                   <th >Back/Lay</th>                                   
                                   <th>odds </th>
                                   <th>stack</th>
                                   <th>P&l</th>
                                </tr>
                            </thead>
                             <tbody>
                                <tr ng-repeat='unMatchedData in (UserData | filter : {"IsMatched":"1"})' ng-class="{'lay-head': unMatchedData.isBack == 1 , 'back-head': unMatchedData.isBack == 0}">
                                    <td >{{unMatchedData.selectionName}}</td>
                                     <td ng-if="unMatchedData.isBack == 1?BackLay='Lay' : BackLay='Back'"><span class="badge " ng-class="{'badge-danger':unMatchedData.isBack ==1  ,'badge-info': unMatchedData.isBack ==0 } ">{{BackLay}}</span></td>                               
                                    <td>{{unMatchedData.Odds}}</td>
                                    <td>{{unMatchedData.Stack}}</td>
                                    <td>{{unMatchedData.P_L}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div class="fancy-collapse-panel">
                <div class="panel panel-default match">
                    <div class="panel-heading" role="tab" id="headingOne">
                        <h3 class="panel-title">Unmatched Bets ({{(UserData | filter : {"IsMatched":"0"}).length}})</h3>
                    </div>
                    <div class="panel-body unmatchedScrollTable" ng-if='(UserData | filter : {"IsMatched":"0"}).length>0'>
                        <table class="table betslip-table">
                    <thead>
                       <tr>
                            <th></th>
                            <th >Runner</th>
                            <th>Back/Lay</th>
                            <th>odds </th>
                            <th>stack</th>
                            <th>P&l</th>
                        </tr>
                    </thead>
                     <tbody>
                        <tr ng-repeat='unMatchedData in (UserData | filter : {"IsMatched":"0"})' ng-class="{'lay-head': unMatchedData.isBack == 1 , 'back-head': unMatchedData.isBack == 0}">
                            <td><span class="glyphicon glyphicon-trash" ng-click="deleteUser(unMatchedData.MstCode,unMatchedData.UserId)"></span></td>
                            <td >{{unMatchedData.selectionName}}</td>
                            <td ng-if="unMatchedData.isBack == 1?BackLay='Lay' : BackLay='Back'"><span class="badge " ng-class="{'badge-danger':unMatchedData.isBack ==1  ,'badge-info': unMatchedData.isBack ==0 } ">{{BackLay}}</span></td>
                        
                            <td>{{unMatchedData.Odds}}</td>
                            <td>{{unMatchedData.Stack}}</td>
                            <td>{{unMatchedData.P_L}}</td>
                        </tr>
                    </tbody>
                   </table>
                    </div>
                </div>
            </div>            
    </div>
     
    <!-- end the code of bet list -->
<!-- start Fancy Betslip -->
<div class="hidden-xs">
    <div class="" ng-if="betslipArray.isFancy==1">
        <div class="box-cont clearfix">
            <div class="act-mess" ng-if="betslipArray.betslip">
                <form name="betUserSubmit" method="post">
                    <div class="row">
                        <div class="col-sm-12 betsliphead" ng-class="{1:'lay-head', 0:'back-head'}[betslipArray.isBack]">
                            <a href="" ng-click="betslipArray.isFancy=0;betslipArray={}" style="color:#f6130b;font-size:13px;"><span class="glyphicon glyphicon-remove-sign"></span></a>&emsp;
                            <span>Fancy Name:</span><span style="float:right;">{{betslipArray.name}}</span>
                        </div>
                        <div class="col-sm-12">
                            <div class="row padding">
                                <div class="col-sm-3 padding">
                                    <label>odds</label>
                                    <input type="number" step="0.01" min="1" ng-model="betslipArray.line" name="" readonly="readonly" class=" form-control" />
                                </div>
                                <div class="col-sm-5 padding" ng-init="stake=0">
                                    <label>stake</label>
                                    <input type="number" ng-model='betslipArray.stack' name="" ng-click="FancyVal(100,betslipArray.stack,0)" step="1" min="1" class=" form-control" />
                                </div>
                                <div class="col-sm-4 padding">
                                    <label>Liability</label>
                                    <p>{{betslipArray.stack | number:2}}</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-12 padding" name="stakes_0">                                  
                        <button type="button" ng-click="FancyVal(1000,betslipArray.stack,1)" class="btn num-btns">1000</button>
                        <button type="button" ng-click="FancyVal(3000,betslipArray.stack,1)" class="btn num-btns">3000</button>
                        <button type="button" ng-click="FancyVal(5000,betslipArray.stack,1)" class="btn num-btns">5000</button>
                        <button type="button" ng-click="FancyVal(10000,betslipArray.stack,1)" class="btn num-btns">10000</button>
                        <button type="button" ng-click="FancyVal(25000,betslipArray.stack,1)" class="btn num-btns">25000</button>
                        <button type="button" ng-click="FancyVal(50000,betslipArray.stack,1)" class="btn num-btns">50000</button>
                        <button type="button" ng-click="betslipArray.stack=0" class="btn clr-btn">Clear</button>
                        <button type="submit" ng-disabled="(!betUserSubmit.$valid) || btnPlaceDis" class="btn place-bet" ng-click="placeFancyBet();">Place bets</button>
                     </div>
                    </div>
                </form>
                <div class="betOverlay" ng-if="fancybetloader">
                    <img src="app/images/loader.gif">
                </div>
            </div>
        </div>
    </div>
</div> 
<!-- End the code of Fancy betslip -->

    

    
</div>